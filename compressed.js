(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){return function e(t,r,n){function a(o,l){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){return a(t[o][1][e]||e)},u,u.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}}()({1:[function(e,t,r){var n,a;n=this,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?n(Object(a),!0).forEach(function(r){t(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var i,o=(function(e){"undefined"!=typeof window&&function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),a=n&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(n||i)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,r,l,s,c,u,f,h,d;if(!(t=e.match(o)))throw new Error("invalid data URI");for(r=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),l=!!t[4],s=e.slice(t[0].length),c=l?atob(s):decodeURIComponent(s),u=new ArrayBuffer(c.length),f=new Uint8Array(u),h=0;h<c.length;h+=1)f[h]=c.charCodeAt(h);return n?new Blob([a?f:u],{type:r}):((d=new i).append(u),d.getBlob(r))};t.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,n){var a=this;setTimeout(function(){n&&r.toDataURL&&l?e(l(a.toDataURL(t,n))):e(a.mozGetAsFile("blob",t))})}:r.toDataURL&&l&&(r.toBlob=function(e,t,r){var n=this;setTimeout(function(){e(l(n.toDataURL(t,r)))})})),e.exports?e.exports=l:t.dataURLtoBlob=l}(window)}(i={exports:{}},i.exports),i.exports),l={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},s="undefined"!=typeof window&&void 0!==window.document?window:{},c=Array.prototype.slice,u=/^image\/.+$/;function f(e){return u.test(e)}var h=String.fromCharCode,d=s.btoa;function m(e){var t,r=new DataView(e);try{var n,a,i;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var o=r.byteLength,l=2;l+1<o;){if(255===r.getUint8(l)&&225===r.getUint8(l+1)){a=l;break}l+=1}if(a){var s=a+10;if("Exif"===function(e,t,r){var n,a="";for(r+=t,n=t;n<r;n+=1)a+=h(e.getUint8(n));return a}(r,a+4,4)){var c=r.getUint16(s);if(((n=18761===c)||19789===c)&&42===r.getUint16(s+2,n)){var u=r.getUint32(s+4,n);u>=8&&(i=s+u)}}}if(i){var f,d,m=r.getUint16(i,n);for(d=0;d<m;d+=1)if(f=i+12*d+2,274===r.getUint16(f,n)){f+=8,t=r.getUint16(f,n),r.setUint16(f,1,n);break}}}catch(e){t=1}return t}var p=/\.\d*(?:0|9){12}\d*$/;function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return p.test(e)?Math.round(e*t)/t:e}var y=s.ArrayBuffer,g=s.FileReader,v=s.URL||s.webkitURL,w=/\.\w+$/,U=s.Compressor;return function(){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e,this.image=new Image,this.options=a({},l,{},r),this.aborted=!1,this.result=null,this.init()}var n,i,u;return n=t,u=[{key:"noConflict",value:function(){return window.Compressor=U,t}},{key:"setDefaults",value:function(e){r(l,e)}}],(i=[{key:"init",value:function(){var e=this,t=this.file,n=this.options;if(a=t,"undefined"!=typeof Blob&&(a instanceof Blob||"[object Blob]"===Object.prototype.toString.call(a))){var a,i=t.type;if(f(i))if(v&&g)if(y||(n.checkOrientation=!1),v&&!n.checkOrientation)this.load({url:v.createObjectURL(t)});else{var o=new g,l=n.checkOrientation&&"image/jpeg"===i;this.reader=o,o.onload=function(n){var a=n.target.result,o={};if(l){var s=m(a);s>1||!v?(o.url=function(e,t){for(var r,n=[],a=new Uint8Array(e);a.length>0;)n.push(h.apply(null,(r=a.subarray(0,8192),Array.from?Array.from(r):c.call(r)))),a=a.subarray(8192);return"data:".concat(t,";base64,").concat(d(n.join("")))}(a,i),s>1&&r(o,function(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{rotate:t,scaleX:r,scaleY:n}}(s))):o.url=v.createObjectURL(t)}else o.url=a;e.load(o)},o.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){e.reader=null},l?o.readAsArrayBuffer(t):o.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var t=this,r=this.file,n=this.image;n.onload=function(){t.draw(a({},e,{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}))},n.onabort=function(){t.fail(new Error("Aborted to load the image."))},n.onerror=function(){t.fail(new Error("Failed to load the image."))},s.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(s.navigator.userAgent)&&(n.crossOrigin="anonymous"),n.alt=r.name,n.src=e.url}},{key:"draw",value:function(e){var t=this,r=e.naturalWidth,n=e.naturalHeight,a=e.rotate,i=void 0===a?0:a,l=e.scaleX,s=void 0===l?1:l,c=e.scaleY,u=void 0===c?1:c,h=this.file,d=this.image,m=this.options,p=document.createElement("canvas"),y=p.getContext("2d"),g=r/n,v=Math.abs(i)%180==90,w=Math.max(m.maxWidth,0)||1/0,U=Math.max(m.maxHeight,0)||1/0,O=Math.max(m.minWidth,0)||0,j=Math.max(m.minHeight,0)||0,B=Math.max(m.width,0)||r,x=Math.max(m.height,0)||n;if(v){var k=[U,w];w=k[0],U=k[1];var M=[j,O];O=M[0],j=M[1];var A=[x,B];B=A[0],x=A[1]}w<1/0&&U<1/0?U*g>w?U=w/g:w=U*g:w<1/0?U=w/g:U<1/0&&(w=U*g),O>0&&j>0?j*g>O?j=O/g:O=j*g:O>0?j=O/g:j>0&&(O=j*g),x*g>B?x=B/g:B=x*g;var E=-(B=Math.floor(b(Math.min(Math.max(B,O),w))))/2,R=-(x=Math.floor(b(Math.min(Math.max(x,j),U))))/2,C=B,T=x;if(v){var D=[x,B];B=D[0],x=D[1]}p.width=B,p.height=x,f(m.mimeType)||(m.mimeType=h.type);var L="transparent";if(h.size>m.convertSize&&"image/png"===m.mimeType&&(L="#fff",m.mimeType="image/jpeg"),y.fillStyle=L,y.fillRect(0,0,B,x),m.beforeDraw&&m.beforeDraw.call(this,y,p),!this.aborted&&(y.save(),y.translate(B/2,x/2),y.rotate(i*Math.PI/180),y.scale(s,u),y.drawImage(d,E,R,C,T),y.restore(),m.drew&&m.drew.call(this,y,p),!this.aborted)){var P=function(e){t.aborted||t.done({naturalWidth:r,naturalHeight:n,result:e})};p.toBlob?p.toBlob(P,m.mimeType,m.quality):P(o(p.toDataURL(m.mimeType,m.quality)))}}},{key:"done",value:function(e){var t,r,n=e.naturalWidth,a=e.naturalHeight,i=e.result,o=this.file,l=this.image,s=this.options;if(v&&!s.checkOrientation&&v.revokeObjectURL(l.src),i)if(s.strict&&i.size>o.size&&s.mimeType===o.type&&!(s.width>n||s.height>a||s.minWidth>n||s.minHeight>a))i=o;else{var c=new Date;i.lastModified=c.getTime(),i.lastModifiedDate=c,i.name=o.name,i.name&&i.type!==o.type&&(i.name=i.name.replace(w,(t=i.type,"jpeg"===(r=f(t)?t.substr(6):"")&&(r="jpg"),".".concat(r))))}else i=o;this.result=i,s.success&&s.success.call(this,i)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&e(n.prototype,i),u&&e(n,u),t}()},"object"===_typeof(r)&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):(n=n||self).Compressor=a()},{}],2:[function(e,t,r){var n,a=(n=e("compressorjs"))&&n.__esModule?n:{default:n};window.compressBenchmark=function(e){var t=e.target.files[0],r=new FileReader,n=document.getElementById("input");n.title=t.name,r.onload=function(e){n.src=e.target.result},r.readAsDataURL(t);var i=document.createElement("h4");i.textContent="Compressed images",document.body.appendChild(i);for(var o=function(e){new a.default(t,{quality:.1*e,mimeType:"image/jpeg",success:function(t){console.log(t);var r=document.createElement("img");r.src=window.URL.createObjectURL(t),r.width=500,document.body.appendChild(r);var n=document.createElement("h6");n.textContent="Quality "+(.1*e).toFixed(1),document.body.appendChild(n)}})},l=1;l<=10;l++)o(l)}},{compressorjs:1}]},{},[2]);

},{}]},{},[1]);
